// Compiled by ClojureScript 1.9.908 {}
goog.provide('ote.views.transport_service_common');
goog.require('cljs.core');
goog.require('tuck.core');
goog.require('ote.db.transport_service');
goog.require('ote.localization');
goog.require('ote.ui.form');
goog.require('ote.db.common');
goog.require('ote.ui.buttons');
goog.require('ote.app.controller.transport_service');
goog.require('ote.views.place_search');
/**
 * Creates a form group for service url hat creates two form elements url and localized text area
 */
ote.views.transport_service_common.service_url = (function ote$views$transport_service_common$service_url(label,service_url_field){
return ote.ui.form.group.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"label","label",1718410804),label,new cljs.core.Keyword(null,"layout","layout",-2120940921),new cljs.core.Keyword(null,"row","row",-570139521),new cljs.core.Keyword(null,"columns","columns",1998437288),(3)], null),new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"class","class",-2030961996),"set-bottom",new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword("ote.db.transport-service","url","ote.db.transport-service/url",844274149),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"string","string",-1989541586),new cljs.core.Keyword(null,"read","read",1140058661),cljs.core.comp.call(null,new cljs.core.Keyword("ote.db.transport-service","url","ote.db.transport-service/url",844274149),service_url_field),new cljs.core.Keyword(null,"write","write",-1857649168),(function (data,url){
return cljs.core.assoc_in.call(null,data,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [service_url_field,new cljs.core.Keyword("ote.db.transport-service","url","ote.db.transport-service/url",844274149)], null),url);
})], null),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword("ote.db.transport-service","description","ote.db.transport-service/description",-1993573841),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"localized-text","localized-text",191039942),new cljs.core.Keyword(null,"rows","rows",850049680),(1),new cljs.core.Keyword(null,"rows-max","rows-max",-1902625472),(3),new cljs.core.Keyword(null,"read","read",1140058661),cljs.core.comp.call(null,new cljs.core.Keyword("ote.db.transport-service","description","ote.db.transport-service/description",-1993573841),service_url_field),new cljs.core.Keyword(null,"write","write",-1857649168),(function (data,desc){
return cljs.core.assoc_in.call(null,data,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [service_url_field,new cljs.core.Keyword("ote.db.transport-service","description","ote.db.transport-service/description",-1993573841)], null),desc);
})], null));
});
/**
 * Creates a form group for external services.
 */
ote.views.transport_service_common.external_interfaces = (function ote$views$transport_service_common$external_interfaces(){
return ote.ui.form.group.call(null,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"label","label",1718410804),ote.localization.tr.call(null,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"field-labels","field-labels",1197457113),new cljs.core.Keyword(null,"transport-service-common","transport-service-common",-1386295207),new cljs.core.Keyword("ote.db.transport-service","external-interfaces","ote.db.transport-service/external-interfaces",-953510767)], null)),new cljs.core.Keyword(null,"columns","columns",1998437288),(3)], null),ote.ui.form.info.call(null,ote.localization.tr.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"form-help","form-help",518499363),new cljs.core.Keyword(null,"external-interfaces","external-interfaces",-478990016)], null))),new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword("ote.db.transport-service","external-interfaces","ote.db.transport-service/external-interfaces",-953510767),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"table","table",-564943036),new cljs.core.Keyword(null,"table-fields","table-fields",-923733996),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword("ote.db.transport-service","external-service-description","ote.db.transport-service/external-service-description",-1131601773),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"localized-text","localized-text",191039942),new cljs.core.Keyword(null,"width","width",-384071477),"40%",new cljs.core.Keyword(null,"read","read",1140058661),cljs.core.comp.call(null,new cljs.core.Keyword("ote.db.transport-service","description","ote.db.transport-service/description",-1993573841),new cljs.core.Keyword("ote.db.transport-service","external-interface","ote.db.transport-service/external-interface",1533618432)),new cljs.core.Keyword(null,"write","write",-1857649168),(function (p1__52131_SHARP_,p2__52132_SHARP_){
return cljs.core.assoc_in.call(null,p1__52131_SHARP_,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("ote.db.transport-service","external-interface","ote.db.transport-service/external-interface",1533618432),new cljs.core.Keyword("ote.db.transport-service","description","ote.db.transport-service/description",-1993573841)], null),p2__52132_SHARP_);
})], null),new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword("ote.db.transport-service","external-service-url","ote.db.transport-service/external-service-url",331957861),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"string","string",-1989541586),new cljs.core.Keyword(null,"width","width",-384071477),"40%",new cljs.core.Keyword(null,"read","read",1140058661),cljs.core.comp.call(null,new cljs.core.Keyword("ote.db.transport-service","url","ote.db.transport-service/url",844274149),new cljs.core.Keyword("ote.db.transport-service","external-interface","ote.db.transport-service/external-interface",1533618432)),new cljs.core.Keyword(null,"write","write",-1857649168),(function (p1__52133_SHARP_,p2__52134_SHARP_){
return cljs.core.assoc_in.call(null,p1__52133_SHARP_,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("ote.db.transport-service","external-interface","ote.db.transport-service/external-interface",1533618432),new cljs.core.Keyword("ote.db.transport-service","url","ote.db.transport-service/url",844274149)], null),p2__52134_SHARP_);
})], null),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword("ote.db.transport-service","format","ote.db.transport-service/format",1340282257),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"string","string",-1989541586),new cljs.core.Keyword(null,"width","width",-384071477),"20%"], null)], null),new cljs.core.Keyword(null,"delete?","delete?",789956376),true,new cljs.core.Keyword(null,"add-label","add-label",28553208),ote.localization.tr.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"buttons","buttons",-1953831197),new cljs.core.Keyword(null,"add-external-interface","add-external-interface",-1120476674)], null))], null));
});
ote.views.transport_service_common.contact_info_group = (function ote$views$transport_service_common$contact_info_group(){
return ote.ui.form.group.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"label","label",1718410804),ote.localization.tr.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"passenger-transportation-page","passenger-transportation-page",2101746084),new cljs.core.Keyword(null,"header-contact-details","header-contact-details",-239474591)], null)),new cljs.core.Keyword(null,"columns","columns",1998437288),(3),new cljs.core.Keyword(null,"layout","layout",-2120940921),new cljs.core.Keyword(null,"row","row",-570139521)], null),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword("ote.db.common","street","ote.db.common/street",-433179772),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"string","string",-1989541586),new cljs.core.Keyword(null,"read","read",1140058661),cljs.core.comp.call(null,new cljs.core.Keyword("ote.db.common","street","ote.db.common/street",-433179772),new cljs.core.Keyword("ote.db.transport-service","contact-address","ote.db.transport-service/contact-address",-188308046)),new cljs.core.Keyword(null,"write","write",-1857649168),(function (data,street){
return cljs.core.assoc_in.call(null,data,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("ote.db.transport-service","contact-address","ote.db.transport-service/contact-address",-188308046),new cljs.core.Keyword("ote.db.common","street","ote.db.common/street",-433179772)], null),street);
}),new cljs.core.Keyword(null,"label","label",1718410804),ote.localization.tr.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"field-labels","field-labels",1197457113),new cljs.core.Keyword("ote.db.common","street","ote.db.common/street",-433179772)], null)),new cljs.core.Keyword(null,"required?","required?",-872514462),true], null),new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword("ote.db.common","postal_code","ote.db.common/postal_code",1541120368),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"string","string",-1989541586),new cljs.core.Keyword(null,"read","read",1140058661),cljs.core.comp.call(null,new cljs.core.Keyword("ote.db.common","postal_code","ote.db.common/postal_code",1541120368),new cljs.core.Keyword("ote.db.transport-service","contact-address","ote.db.transport-service/contact-address",-188308046)),new cljs.core.Keyword(null,"write","write",-1857649168),(function (data,postal_code){
return cljs.core.assoc_in.call(null,data,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("ote.db.transport-service","contact-address","ote.db.transport-service/contact-address",-188308046),new cljs.core.Keyword("ote.db.common","postal_code","ote.db.common/postal_code",1541120368)], null),postal_code);
}),new cljs.core.Keyword(null,"label","label",1718410804),ote.localization.tr.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"field-labels","field-labels",1197457113),new cljs.core.Keyword("ote.db.common","postal_code","ote.db.common/postal_code",1541120368)], null)),new cljs.core.Keyword(null,"required?","required?",-872514462),true,new cljs.core.Keyword(null,"validate","validate",-201300827),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"postal-code","postal-code",368585871)], null)], null)], null),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword("ote.db.common","post_office","ote.db.common/post_office",994976709),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"string","string",-1989541586),new cljs.core.Keyword(null,"read","read",1140058661),cljs.core.comp.call(null,new cljs.core.Keyword("ote.db.common","post_office","ote.db.common/post_office",994976709),new cljs.core.Keyword("ote.db.transport-service","contact-address","ote.db.transport-service/contact-address",-188308046)),new cljs.core.Keyword(null,"write","write",-1857649168),(function (data,post_office){
return cljs.core.assoc_in.call(null,data,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("ote.db.transport-service","contact-address","ote.db.transport-service/contact-address",-188308046),new cljs.core.Keyword("ote.db.common","post_office","ote.db.common/post_office",994976709)], null),post_office);
}),new cljs.core.Keyword(null,"label","label",1718410804),ote.localization.tr.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"field-labels","field-labels",1197457113),new cljs.core.Keyword("ote.db.common","post_office","ote.db.common/post_office",994976709)], null)),new cljs.core.Keyword(null,"required?","required?",-872514462),true], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword("ote.db.transport-service","contact-phone","ote.db.transport-service/contact-phone",-1602195908),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"string","string",-1989541586)], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword("ote.db.transport-service","contact-email","ote.db.transport-service/contact-email",-447985279),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"string","string",-1989541586)], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"name","name",1843675177),new cljs.core.Keyword("ote.db.transport-service","homepage","ote.db.transport-service/homepage",-91375112),new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword(null,"string","string",-1989541586)], null));
});
ote.views.transport_service_common.footer = (function ote$views$transport_service_common$footer(e_BANG_,p__52135){
var map__52136 = p__52135;
var map__52136__$1 = ((((!((map__52136 == null)))?((((map__52136.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__52136.cljs$core$ISeq$)))?true:false):false))?cljs.core.apply.call(null,cljs.core.hash_map,map__52136):map__52136);
var data = map__52136__$1;
var published_QMARK_ = cljs.core.get.call(null,map__52136__$1,new cljs.core.Keyword("ote.db.transport-service","published?","ote.db.transport-service/published?",178049784));
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.row","div.row",133678515),(cljs.core.truth_(published_QMARK_)?new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [ote.ui.buttons.save,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (map__52136,map__52136__$1,data,published_QMARK_){
return (function (){
return e_BANG_.call(null,ote.app.controller.transport_service.__GT_SaveTransportService.call(null,true));
});})(map__52136,map__52136__$1,data,published_QMARK_))
,new cljs.core.Keyword(null,"disabled","disabled",-1529784218),ote.ui.form.disable_save_QMARK_.call(null,data)], null),ote.localization.tr.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"buttons","buttons",-1953831197),new cljs.core.Keyword(null,"save-updated","save-updated",-341526212)], null))], null):new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1394872991),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [ote.ui.buttons.save,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (map__52136,map__52136__$1,data,published_QMARK_){
return (function (){
return e_BANG_.call(null,ote.app.controller.transport_service.__GT_SaveTransportService.call(null,true));
});})(map__52136,map__52136__$1,data,published_QMARK_))
,new cljs.core.Keyword(null,"disabled","disabled",-1529784218),ote.ui.form.disable_save_QMARK_.call(null,data)], null),ote.localization.tr.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"buttons","buttons",-1953831197),new cljs.core.Keyword(null,"save-and-publish","save-and-publish",-886108187)], null))], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [ote.ui.buttons.save,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (map__52136,map__52136__$1,data,published_QMARK_){
return (function (){
return e_BANG_.call(null,ote.app.controller.transport_service.__GT_SaveTransportService.call(null,false));
});})(map__52136,map__52136__$1,data,published_QMARK_))
,new cljs.core.Keyword(null,"disabled","disabled",-1529784218),false], null),ote.localization.tr.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"buttons","buttons",-1953831197),new cljs.core.Keyword(null,"save-as-draft","save-as-draft",1508593888)], null))], null)], null)),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [ote.ui.buttons.cancel,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (map__52136,map__52136__$1,data,published_QMARK_){
return (function (){
return e_BANG_.call(null,ote.app.controller.transport_service.__GT_CancelTransportServiceForm.call(null));
});})(map__52136,map__52136__$1,data,published_QMARK_))
], null),ote.localization.tr.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"buttons","buttons",-1953831197),new cljs.core.Keyword(null,"discard","discard",-1939593545)], null))], null)], null);
});
ote.views.transport_service_common.place_search_group = (function ote$views$transport_service_common$place_search_group(e_BANG_,key){
return ote.views.place_search.place_search_form_group.call(null,tuck.core.wrap_path.call(null,e_BANG_,new cljs.core.Keyword(null,"transport-service","transport-service",-1754331706),key,new cljs.core.Keyword("ote.db.transport-service","operation-area","ote.db.transport-service/operation-area",1530382917)),ote.localization.tr.call(null,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"field-labels","field-labels",1197457113),new cljs.core.Keyword(null,"transport-service-common","transport-service-common",-1386295207),new cljs.core.Keyword("ote.db.transport-service","operation-area","ote.db.transport-service/operation-area",1530382917)], null)),new cljs.core.Keyword("ote.db.transport-service","operation-area","ote.db.transport-service/operation-area",1530382917));
});

//# sourceMappingURL=transport_service_common.js.map?rel=1510137294273
