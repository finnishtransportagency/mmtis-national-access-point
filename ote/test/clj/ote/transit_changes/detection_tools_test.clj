(ns ote.transit-changes.detection-tools-test
  (:require [ote.transit-changes.detection :as detection]
            [ote.transit-changes :as transit-changes]
            [ote.services.transport :as transport-service]
            [ote.db.transport-service :as t-service]
            [specql.core :as specql]
            [ote.integration.import.gtfs :as gtfs-import]
            [clojure.test :as t :refer [deftest testing is use-fixtures]]
            [ote.transit-changes.detection-test-utilities :as tu]
            [ote.time :as time]
            [com.stuartsierra.component :as component]
            [ote.test]))

;; In these there are same locations for stops, but two time change 1->1.1 and 4->4.1
(def left-trips-1 {:gtfs/package-id 1
                   :stoptimes [{:gtfs/departure-time 1 :gtfs/stop-fuzzy-lat 1.00 :gtfs/stop-fuzzy-lon 1.00}
                               {:gtfs/departure-time 2 :gtfs/stop-fuzzy-lat 2.00 :gtfs/stop-fuzzy-lon 2.00}
                               {:gtfs/departure-time 3 :gtfs/stop-fuzzy-lat 3.00 :gtfs/stop-fuzzy-lon 3.00}
                               {:gtfs/departure-time 4 :gtfs/stop-fuzzy-lat 4.00 :gtfs/stop-fuzzy-lon 4.00}]})

(def right-trips-1 {:gtfs/package-id 2
                    :stoptimes [{:gtfs/departure-time 1.1 :gtfs/stop-fuzzy-lat 1.00 :gtfs/stop-fuzzy-lon 1.00}
                                {:gtfs/departure-time 2 :gtfs/stop-fuzzy-lat 2.00 :gtfs/stop-fuzzy-lon 2.00}
                                {:gtfs/departure-time 3 :gtfs/stop-fuzzy-lat 3.00 :gtfs/stop-fuzzy-lon 3.00}
                                {:gtfs/departure-time 4.1 :gtfs/stop-fuzzy-lat 4.00 :gtfs/stop-fuzzy-lon 4.00}]})

;; In this list there are one time change 1->1.1 in stops that gpx location seems to be the same (fuzzed gpx)
(def left-trips-2 {:gtfs/package-id 1
                   :stoptimes [{:gtfs/departure-time 1 :gtfs/stop-fuzzy-lat 1.00 :gtfs/stop-fuzzy-lon 1.00}
                               {:gtfs/departure-time 2 :gtfs/stop-fuzzy-lat 1.00 :gtfs/stop-fuzzy-lon 1.00}
                               {:gtfs/departure-time 3 :gtfs/stop-fuzzy-lat 3.00 :gtfs/stop-fuzzy-lon 3.00}
                               {:gtfs/departure-time 4 :gtfs/stop-fuzzy-lat 4.00 :gtfs/stop-fuzzy-lon 4.00}]})

(def right-trips-2 {:gtfs/package-id 2
                    :stoptimes [{:gtfs/departure-time 1.1 :gtfs/stop-fuzzy-lat 1.00 :gtfs/stop-fuzzy-lon 1.00}
                                {:gtfs/departure-time 2 :gtfs/stop-fuzzy-lat 1.00 :gtfs/stop-fuzzy-lon 1.00}
                                {:gtfs/departure-time 3 :gtfs/stop-fuzzy-lat 3.00 :gtfs/stop-fuzzy-lon 3.00}
                                {:gtfs/departure-time 4 :gtfs/stop-fuzzy-lat 4.00 :gtfs/stop-fuzzy-lon 4.00}]})

;; Simple list of stops with four sequence change and same fuzzed gpx points
(def left-trips-3 {:gtfs/package-id 1
                   :stoptimes [{:gtfs/departure-time 1 :gtfs/stop-fuzzy-lat 1.00 :gtfs/stop-fuzzy-lon 1.00}
                               {:gtfs/departure-time 2 :gtfs/stop-fuzzy-lat 1.00 :gtfs/stop-fuzzy-lon 1.00}
                               {:gtfs/departure-time 3 :gtfs/stop-fuzzy-lat 3.00 :gtfs/stop-fuzzy-lon 3.00}
                               {:gtfs/departure-time 4 :gtfs/stop-fuzzy-lat 4.00 :gtfs/stop-fuzzy-lon 4.00}
                               {:gtfs/departure-time 5 :gtfs/stop-fuzzy-lat 5.00 :gtfs/stop-fuzzy-lon 5.00}
                               {:gtfs/departure-time 6 :gtfs/stop-fuzzy-lat 6.00 :gtfs/stop-fuzzy-lon 6.00}
                               {:gtfs/departure-time 7 :gtfs/stop-fuzzy-lat 7.00 :gtfs/stop-fuzzy-lon 7.00}
                               {:gtfs/departure-time 8 :gtfs/stop-fuzzy-lat 8.00 :gtfs/stop-fuzzy-lon 8.00}]})

(def right-trips-3 {:gtfs/package-id 2
                    :stoptimes [{:gtfs/departure-time 1 :gtfs/stop-fuzzy-lat 1.00 :gtfs/stop-fuzzy-lon 1.00}
                                {:gtfs/departure-time 2 :gtfs/stop-fuzzy-lat 1.00 :gtfs/stop-fuzzy-lon 1.00}
                                {:gtfs/departure-time 3 :gtfs/stop-fuzzy-lat 3.00 :gtfs/stop-fuzzy-lon 3.00}
                                {:gtfs/departure-time 4.1 :gtfs/stop-fuzzy-lat 4.00 :gtfs/stop-fuzzy-lon 4.00}
                                {:gtfs/departure-time 5.1 :gtfs/stop-fuzzy-lat 5.00 :gtfs/stop-fuzzy-lon 5.00}]})

;; Real world example with 5 time change when multiple same fuzzed gpx points
(def left-trips-4 {:gtfs/package-id 1
                   :stoptimes [#:gtfs{:stop-fuzzy-lat 60.459M, :stop-fuzzy-lon 26.231M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 25, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.456M, :stop-fuzzy-lon 26.221M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 26, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.454M, :stop-fuzzy-lon 26.213M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 27, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.457M, :stop-fuzzy-lon 26.198M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 28, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.464M, :stop-fuzzy-lon 26.193M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 29, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.469M, :stop-fuzzy-lon 26.196M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 29, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.477M, :stop-fuzzy-lon 26.198M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 30, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.483M, :stop-fuzzy-lon 26.191M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 31, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.487M, :stop-fuzzy-lon 26.187M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 31, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.492M, :stop-fuzzy-lon 26.184M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 32, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.496M, :stop-fuzzy-lon 26.181M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 33, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.498M, :stop-fuzzy-lon 26.177M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 33, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.501M, :stop-fuzzy-lon 26.174M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 33, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.507M, :stop-fuzzy-lon 26.168M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 34, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.511M, :stop-fuzzy-lon 26.162M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 35, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.515M, :stop-fuzzy-lon 26.160M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 35, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.520M, :stop-fuzzy-lon 26.157M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 36, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.528M, :stop-fuzzy-lon 26.115M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 40, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.545M, :stop-fuzzy-lon 26.061M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 45, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.551M, :stop-fuzzy-lon 26.062M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 46, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.556M, :stop-fuzzy-lon 26.061M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 47, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.558M, :stop-fuzzy-lon 26.059M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 48, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.562M, :stop-fuzzy-lon 26.053M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 49, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.564M, :stop-fuzzy-lon 26.052M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 50, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.570M, :stop-fuzzy-lon 26.050M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 55, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.572M, :stop-fuzzy-lon 26.052M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 57, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.575M, :stop-fuzzy-lon 26.054M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 15, :minutes 0, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.572M, :stop-fuzzy-lon 26.052M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 15, :minutes 0, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.572M, :stop-fuzzy-lon 26.051M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 15, :minutes 0, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.566M, :stop-fuzzy-lon 25.982M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 15, :minutes 5, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.564M, :stop-fuzzy-lon 25.974M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 15, :minutes 7, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.539M, :stop-fuzzy-lon 25.944M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 15, :minutes 20, :seconds 0.0}}]
                   })

(def right-trips-4 {:gtfs/package-id 2
                    :stoptimes [#:gtfs{:stop-fuzzy-lat 60.459M, :stop-fuzzy-lon 26.231M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 25, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.456M, :stop-fuzzy-lon 26.221M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 26, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.454M, :stop-fuzzy-lon 26.213M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 27, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.457M, :stop-fuzzy-lon 26.198M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 28, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.464M, :stop-fuzzy-lon 26.193M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 29, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.469M, :stop-fuzzy-lon 26.196M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 29, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.477M, :stop-fuzzy-lon 26.198M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 30, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.483M, :stop-fuzzy-lon 26.191M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 31, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.487M, :stop-fuzzy-lon 26.187M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 31, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.492M, :stop-fuzzy-lon 26.184M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 32, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.496M, :stop-fuzzy-lon 26.181M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 33, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.498M, :stop-fuzzy-lon 26.177M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 33, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.501M, :stop-fuzzy-lon 26.174M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 33, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.507M, :stop-fuzzy-lon 26.168M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 34, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.511M, :stop-fuzzy-lon 26.162M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 35, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.515M, :stop-fuzzy-lon 26.160M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 35, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.520M, :stop-fuzzy-lon 26.157M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 36, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.528M, :stop-fuzzy-lon 26.115M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 40, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.545M, :stop-fuzzy-lon 26.061M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 45, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.551M, :stop-fuzzy-lon 26.062M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 46, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.556M, :stop-fuzzy-lon 26.061M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 47, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.558M, :stop-fuzzy-lon 26.059M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 48, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.562M, :stop-fuzzy-lon 26.053M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 49, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.564M, :stop-fuzzy-lon 26.052M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 50, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.570M, :stop-fuzzy-lon 26.050M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 55, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.572M, :stop-fuzzy-lon 26.052M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 14, :minutes 57, :seconds 0.0}} #:gtfs{:stop-fuzzy-lat 60.575M, :stop-fuzzy-lon 26.054M, :departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 15, :minutes 0, :seconds 0.0}}]
                    })

; Simple list of stops with four sequence change and one time change with same fuzzed gpx points
(def left-trips-5 {:gtfs/package-id 1
                   :stoptimes [{:gtfs/departure-time 1 :gtfs/stop-fuzzy-lat 1.00 :gtfs/stop-fuzzy-lon 1.00}
                               {:gtfs/departure-time 2 :gtfs/stop-fuzzy-lat 1.00 :gtfs/stop-fuzzy-lon 1.00}
                               {:gtfs/departure-time 3 :gtfs/stop-fuzzy-lat 3.00 :gtfs/stop-fuzzy-lon 3.00}
                               {:gtfs/departure-time 4 :gtfs/stop-fuzzy-lat 4.00 :gtfs/stop-fuzzy-lon 4.00}
                               {:gtfs/departure-time 5 :gtfs/stop-fuzzy-lat 5.00 :gtfs/stop-fuzzy-lon 5.00}
                               {:gtfs/departure-time 6 :gtfs/stop-fuzzy-lat 6.00 :gtfs/stop-fuzzy-lon 6.00}
                               {:gtfs/departure-time 7 :gtfs/stop-fuzzy-lat 7.00 :gtfs/stop-fuzzy-lon 7.00}
                               {:gtfs/departure-time 8 :gtfs/stop-fuzzy-lat 8.00 :gtfs/stop-fuzzy-lon 8.00}]})

(def right-trips-5 {:gtfs/package-id 2
                    :stoptimes [{:gtfs/departure-time 1 :gtfs/stop-fuzzy-lat 1.00 :gtfs/stop-fuzzy-lon 1.00}
                                {:gtfs/departure-time 1.1 :gtfs/stop-fuzzy-lat 1.01 :gtfs/stop-fuzzy-lon 1.01}
                                {:gtfs/departure-time 2 :gtfs/stop-fuzzy-lat 2.00 :gtfs/stop-fuzzy-lon 2.00}
                                {:gtfs/departure-time 3 :gtfs/stop-fuzzy-lat 3.00 :gtfs/stop-fuzzy-lon 3.00}
                                {:gtfs/departure-time 4 :gtfs/stop-fuzzy-lat 4.00 :gtfs/stop-fuzzy-lon 4.00}
                                {:gtfs/departure-time 5 :gtfs/stop-fuzzy-lat 5.00 :gtfs/stop-fuzzy-lon 5.00}
                                {:gtfs/departure-time 6 :gtfs/stop-fuzzy-lat 6.00 :gtfs/stop-fuzzy-lon 6.00}
                                {:gtfs/departure-time 7.1 :gtfs/stop-fuzzy-lat 7.00 :gtfs/stop-fuzzy-lon 7.00}]})

(def left-trip-6 {:gtfs/package-id 1
                  :stoptimes [{:gtfs/stop-fuzzy-lat 61.478M, :gtfs/stop-fuzzy-lon 21.789M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 25, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.480M, :gtfs/stop-fuzzy-lon 21.786M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 25, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.474M, :gtfs/stop-fuzzy-lon 21.782M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 27, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.479M, :gtfs/stop-fuzzy-lon 21.778M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 28, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.480M, :gtfs/stop-fuzzy-lon 21.766M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 28, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.474M, :gtfs/stop-fuzzy-lon 21.757M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 29, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.463M, :gtfs/stop-fuzzy-lon 21.755M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 29, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.453M, :gtfs/stop-fuzzy-lon 21.748M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 30, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.442M, :gtfs/stop-fuzzy-lon 21.743M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 31, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.437M, :gtfs/stop-fuzzy-lon 21.740M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 32, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.430M, :gtfs/stop-fuzzy-lon 21.736M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 32, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.423M, :gtfs/stop-fuzzy-lon 21.729M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 33, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.417M, :gtfs/stop-fuzzy-lon 21.723M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 34, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.382M, :gtfs/stop-fuzzy-lon 21.666M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 38, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.377M, :gtfs/stop-fuzzy-lon 21.660M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 39, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.371M, :gtfs/stop-fuzzy-lon 21.652M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 39, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.367M, :gtfs/stop-fuzzy-lon 21.646M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 40, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.365M, :gtfs/stop-fuzzy-lon 21.638M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 40, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.362M, :gtfs/stop-fuzzy-lon 21.621M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 41, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.361M, :gtfs/stop-fuzzy-lon 21.624M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 45, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.359M, :gtfs/stop-fuzzy-lon 21.627M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 45, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.357M, :gtfs/stop-fuzzy-lon 21.633M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 45, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.353M, :gtfs/stop-fuzzy-lon 21.641M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 46, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.345M, :gtfs/stop-fuzzy-lon 21.656M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 47, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.338M, :gtfs/stop-fuzzy-lon 21.659M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 48, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.328M, :gtfs/stop-fuzzy-lon 21.661M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 49, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.321M, :gtfs/stop-fuzzy-lon 21.663M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 50, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.317M, :gtfs/stop-fuzzy-lon 21.662M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 50, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.309M, :gtfs/stop-fuzzy-lon 21.664M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 51, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.298M, :gtfs/stop-fuzzy-lon 21.671M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 52, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.263M, :gtfs/stop-fuzzy-lon 21.707M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 57, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.259M, :gtfs/stop-fuzzy-lon 21.733M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 58, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.256M, :gtfs/stop-fuzzy-lon 21.747M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 59, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.245M, :gtfs/stop-fuzzy-lon 21.765M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 0, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.242M, :gtfs/stop-fuzzy-lon 21.778M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 1, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.242M, :gtfs/stop-fuzzy-lon 21.784M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 5, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.237M, :gtfs/stop-fuzzy-lon 21.789M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 5, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.231M, :gtfs/stop-fuzzy-lon 21.789M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 6, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.227M, :gtfs/stop-fuzzy-lon 21.780M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 7, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.222M, :gtfs/stop-fuzzy-lon 21.767M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 8, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.217M, :gtfs/stop-fuzzy-lon 21.763M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 8, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.211M, :gtfs/stop-fuzzy-lon 21.759M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 9, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.207M, :gtfs/stop-fuzzy-lon 21.755M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 9, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.204M, :gtfs/stop-fuzzy-lon 21.751M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 10, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.203M, :gtfs/stop-fuzzy-lon 21.745M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 11, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.202M, :gtfs/stop-fuzzy-lon 21.729M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 15, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.197M, :gtfs/stop-fuzzy-lon 21.718M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 16, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.193M, :gtfs/stop-fuzzy-lon 21.702M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 17, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.183M, :gtfs/stop-fuzzy-lon 21.666M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 21, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.177M, :gtfs/stop-fuzzy-lon 21.654M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 22, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.172M, :gtfs/stop-fuzzy-lon 21.639M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 23, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.170M, :gtfs/stop-fuzzy-lon 21.628M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 24, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.170M, :gtfs/stop-fuzzy-lon 21.623M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 25, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.156M, :gtfs/stop-fuzzy-lon 21.582M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 29, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.151M, :gtfs/stop-fuzzy-lon 21.570M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 30, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.136M, :gtfs/stop-fuzzy-lon 21.540M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 33, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.132M, :gtfs/stop-fuzzy-lon 21.530M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 34, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.132M, :gtfs/stop-fuzzy-lon 21.519M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 37, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.130M, :gtfs/stop-fuzzy-lon 21.511M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 40, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.127M, :gtfs/stop-fuzzy-lon 21.505M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 41, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.125M, :gtfs/stop-fuzzy-lon 21.504M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 41, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.121M, :gtfs/stop-fuzzy-lon 21.505M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 42, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.118M, :gtfs/stop-fuzzy-lon 21.507M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 42, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.112M, :gtfs/stop-fuzzy-lon 21.508M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 43, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.107M, :gtfs/stop-fuzzy-lon 21.506M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 43, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.102M, :gtfs/stop-fuzzy-lon 21.505M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 44, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.095M, :gtfs/stop-fuzzy-lon 21.508M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 44, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.090M, :gtfs/stop-fuzzy-lon 21.511M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 44, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.081M, :gtfs/stop-fuzzy-lon 21.516M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 45, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.076M, :gtfs/stop-fuzzy-lon 21.518M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 46, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.067M, :gtfs/stop-fuzzy-lon 21.518M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 48, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.059M, :gtfs/stop-fuzzy-lon 21.515M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 48, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.052M, :gtfs/stop-fuzzy-lon 21.518M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 49, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.046M, :gtfs/stop-fuzzy-lon 21.527M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 50, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.038M, :gtfs/stop-fuzzy-lon 21.538M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 51, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.025M, :gtfs/stop-fuzzy-lon 21.553M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 52, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.018M, :gtfs/stop-fuzzy-lon 21.561M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 52, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.994M, :gtfs/stop-fuzzy-lon 21.577M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 54, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.985M, :gtfs/stop-fuzzy-lon 21.588M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 55, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.975M, :gtfs/stop-fuzzy-lon 21.593M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 56, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.969M, :gtfs/stop-fuzzy-lon 21.594M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 57, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.958M, :gtfs/stop-fuzzy-lon 21.596M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 59, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.940M, :gtfs/stop-fuzzy-lon 21.602M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 1, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.916M, :gtfs/stop-fuzzy-lon 21.622M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 3, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.904M, :gtfs/stop-fuzzy-lon 21.643M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 6, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.890M, :gtfs/stop-fuzzy-lon 21.662M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 8, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.878M, :gtfs/stop-fuzzy-lon 21.682M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 10, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.879M, :gtfs/stop-fuzzy-lon 21.688M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 10, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.880M, :gtfs/stop-fuzzy-lon 21.692M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 15, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.880M, :gtfs/stop-fuzzy-lon 21.702M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 16, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.880M, :gtfs/stop-fuzzy-lon 21.707M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 16, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.875M, :gtfs/stop-fuzzy-lon 21.700M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 17, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.873M, :gtfs/stop-fuzzy-lon 21.703M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 17, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.869M, :gtfs/stop-fuzzy-lon 21.720M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 18, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.864M, :gtfs/stop-fuzzy-lon 21.733M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 19, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.857M, :gtfs/stop-fuzzy-lon 21.746M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 19, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.851M, :gtfs/stop-fuzzy-lon 21.758M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 20, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.850M, :gtfs/stop-fuzzy-lon 21.763M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 20, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.847M, :gtfs/stop-fuzzy-lon 21.775M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 21, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.842M, :gtfs/stop-fuzzy-lon 21.791M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 21, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.832M, :gtfs/stop-fuzzy-lon 21.813M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 23, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.822M, :gtfs/stop-fuzzy-lon 21.831M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 24, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.812M, :gtfs/stop-fuzzy-lon 21.841M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 25, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.799M, :gtfs/stop-fuzzy-lon 21.856M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 27, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.792M, :gtfs/stop-fuzzy-lon 21.868M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 28, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.787M, :gtfs/stop-fuzzy-lon 21.878M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 29, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.777M, :gtfs/stop-fuzzy-lon 21.888M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 30, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.757M, :gtfs/stop-fuzzy-lon 21.904M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 32, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.742M, :gtfs/stop-fuzzy-lon 21.920M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 34, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.738M, :gtfs/stop-fuzzy-lon 21.927M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 35, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.733M, :gtfs/stop-fuzzy-lon 21.940M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 36, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.716M, :gtfs/stop-fuzzy-lon 21.961M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 39, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.709M, :gtfs/stop-fuzzy-lon 21.966M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 40, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.703M, :gtfs/stop-fuzzy-lon 21.971M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 40, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.695M, :gtfs/stop-fuzzy-lon 21.978M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 41, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.690M, :gtfs/stop-fuzzy-lon 21.983M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 42, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.684M, :gtfs/stop-fuzzy-lon 21.990M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 43, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.681M, :gtfs/stop-fuzzy-lon 21.988M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 45, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.678M, :gtfs/stop-fuzzy-lon 21.992M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 45, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.676M, :gtfs/stop-fuzzy-lon 21.995M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 45, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.674M, :gtfs/stop-fuzzy-lon 21.999M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 46, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.674M, :gtfs/stop-fuzzy-lon 22.003M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 46, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.674M, :gtfs/stop-fuzzy-lon 22.009M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 47, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.669M, :gtfs/stop-fuzzy-lon 22.020M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 47, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.659M, :gtfs/stop-fuzzy-lon 22.035M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 48, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.641M, :gtfs/stop-fuzzy-lon 22.049M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 50, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.621M, :gtfs/stop-fuzzy-lon 22.058M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 52, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.594M, :gtfs/stop-fuzzy-lon 22.077M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 55, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.570M, :gtfs/stop-fuzzy-lon 22.101M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 58, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.542M, :gtfs/stop-fuzzy-lon 22.124M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 9, :minutes 0, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.505M, :gtfs/stop-fuzzy-lon 22.156M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 9, :minutes 5, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.485M, :gtfs/stop-fuzzy-lon 22.172M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 9, :minutes 10, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.484M, :gtfs/stop-fuzzy-lon 22.175M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 9, :minutes 10, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.480M, :gtfs/stop-fuzzy-lon 22.189M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 9, :minutes 11, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.478M, :gtfs/stop-fuzzy-lon 22.197M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 9, :minutes 11, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.474M, :gtfs/stop-fuzzy-lon 22.206M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 9, :minutes 12, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.472M, :gtfs/stop-fuzzy-lon 22.216M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 9, :minutes 13, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.471M, :gtfs/stop-fuzzy-lon 22.231M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 9, :minutes 14, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.469M, :gtfs/stop-fuzzy-lon 22.237M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 9, :minutes 15, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.466M, :gtfs/stop-fuzzy-lon 22.249M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 9, :minutes 16, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.463M, :gtfs/stop-fuzzy-lon 22.262M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 9, :minutes 18, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.461M, :gtfs/stop-fuzzy-lon 22.265M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 9, :minutes 19, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.456M, :gtfs/stop-fuzzy-lon 22.267M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 9, :minutes 20, :seconds 0.0}}]
                  })

(def right-trip-6 {:gtfs/package-id 2
                   :stoptimes [{:gtfs/stop-fuzzy-lat 61.478M, :gtfs/stop-fuzzy-lon 21.789M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 25, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.480M, :gtfs/stop-fuzzy-lon 21.786M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 25, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.474M, :gtfs/stop-fuzzy-lon 21.782M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 27, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.479M, :gtfs/stop-fuzzy-lon 21.778M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 28, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.480M, :gtfs/stop-fuzzy-lon 21.766M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 28, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.474M, :gtfs/stop-fuzzy-lon 21.757M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 29, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.463M, :gtfs/stop-fuzzy-lon 21.755M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 29, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.453M, :gtfs/stop-fuzzy-lon 21.748M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 30, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.442M, :gtfs/stop-fuzzy-lon 21.743M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 31, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.437M, :gtfs/stop-fuzzy-lon 21.740M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 32, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.430M, :gtfs/stop-fuzzy-lon 21.736M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 32, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.423M, :gtfs/stop-fuzzy-lon 21.729M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 33, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.417M, :gtfs/stop-fuzzy-lon 21.723M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 34, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.382M, :gtfs/stop-fuzzy-lon 21.666M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 38, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.377M, :gtfs/stop-fuzzy-lon 21.660M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 39, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.371M, :gtfs/stop-fuzzy-lon 21.652M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 39, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.367M, :gtfs/stop-fuzzy-lon 21.646M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 40, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.365M, :gtfs/stop-fuzzy-lon 21.638M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 40, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.362M, :gtfs/stop-fuzzy-lon 21.621M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 41, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.361M, :gtfs/stop-fuzzy-lon 21.624M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 45, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.359M, :gtfs/stop-fuzzy-lon 21.627M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 45, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.357M, :gtfs/stop-fuzzy-lon 21.633M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 45, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.353M, :gtfs/stop-fuzzy-lon 21.641M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 46, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.345M, :gtfs/stop-fuzzy-lon 21.656M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 47, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.338M, :gtfs/stop-fuzzy-lon 21.659M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 48, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.328M, :gtfs/stop-fuzzy-lon 21.661M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 49, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.321M, :gtfs/stop-fuzzy-lon 21.663M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 50, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.317M, :gtfs/stop-fuzzy-lon 21.662M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 50, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.309M, :gtfs/stop-fuzzy-lon 21.664M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 51, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.298M, :gtfs/stop-fuzzy-lon 21.671M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 52, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.263M, :gtfs/stop-fuzzy-lon 21.707M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 57, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.259M, :gtfs/stop-fuzzy-lon 21.733M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 58, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.256M, :gtfs/stop-fuzzy-lon 21.747M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 6, :minutes 59, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.245M, :gtfs/stop-fuzzy-lon 21.765M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 0, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.242M, :gtfs/stop-fuzzy-lon 21.778M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 1, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.242M, :gtfs/stop-fuzzy-lon 21.784M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 5, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.237M, :gtfs/stop-fuzzy-lon 21.789M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 5, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.231M, :gtfs/stop-fuzzy-lon 21.789M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 6, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.227M, :gtfs/stop-fuzzy-lon 21.780M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 7, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.222M, :gtfs/stop-fuzzy-lon 21.767M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 8, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.217M, :gtfs/stop-fuzzy-lon 21.763M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 8, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.211M, :gtfs/stop-fuzzy-lon 21.759M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 9, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.207M, :gtfs/stop-fuzzy-lon 21.755M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 9, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.204M, :gtfs/stop-fuzzy-lon 21.751M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 10, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.203M, :gtfs/stop-fuzzy-lon 21.745M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 11, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.202M, :gtfs/stop-fuzzy-lon 21.729M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 15, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.197M, :gtfs/stop-fuzzy-lon 21.718M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 16, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.193M, :gtfs/stop-fuzzy-lon 21.702M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 17, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.183M, :gtfs/stop-fuzzy-lon 21.666M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 21, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.177M, :gtfs/stop-fuzzy-lon 21.654M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 22, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.172M, :gtfs/stop-fuzzy-lon 21.639M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 23, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.170M, :gtfs/stop-fuzzy-lon 21.628M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 24, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.170M, :gtfs/stop-fuzzy-lon 21.623M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 25, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.156M, :gtfs/stop-fuzzy-lon 21.582M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 29, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.151M, :gtfs/stop-fuzzy-lon 21.570M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 30, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.136M, :gtfs/stop-fuzzy-lon 21.540M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 33, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.132M, :gtfs/stop-fuzzy-lon 21.530M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 34, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.132M, :gtfs/stop-fuzzy-lon 21.519M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 37, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.130M, :gtfs/stop-fuzzy-lon 21.511M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 40, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.127M, :gtfs/stop-fuzzy-lon 21.505M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 41, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.125M, :gtfs/stop-fuzzy-lon 21.504M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 41, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.121M, :gtfs/stop-fuzzy-lon 21.505M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 42, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.118M, :gtfs/stop-fuzzy-lon 21.507M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 42, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.112M, :gtfs/stop-fuzzy-lon 21.508M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 43, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.107M, :gtfs/stop-fuzzy-lon 21.506M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 43, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.102M, :gtfs/stop-fuzzy-lon 21.505M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 44, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.095M, :gtfs/stop-fuzzy-lon 21.508M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 44, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.090M, :gtfs/stop-fuzzy-lon 21.511M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 44, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.081M, :gtfs/stop-fuzzy-lon 21.516M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 45, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.076M, :gtfs/stop-fuzzy-lon 21.518M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 46, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.067M, :gtfs/stop-fuzzy-lon 21.518M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 48, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.059M, :gtfs/stop-fuzzy-lon 21.515M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 48, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.052M, :gtfs/stop-fuzzy-lon 21.518M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 49, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.046M, :gtfs/stop-fuzzy-lon 21.527M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 50, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.038M, :gtfs/stop-fuzzy-lon 21.538M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 51, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.025M, :gtfs/stop-fuzzy-lon 21.553M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 52, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 61.018M, :gtfs/stop-fuzzy-lon 21.561M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 52, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.994M, :gtfs/stop-fuzzy-lon 21.577M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 54, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.985M, :gtfs/stop-fuzzy-lon 21.588M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 55, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.975M, :gtfs/stop-fuzzy-lon 21.593M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 56, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.969M, :gtfs/stop-fuzzy-lon 21.594M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 57, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.958M, :gtfs/stop-fuzzy-lon 21.596M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 7, :minutes 59, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.940M, :gtfs/stop-fuzzy-lon 21.602M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 1, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.928M, :gtfs/stop-fuzzy-lon 21.613M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 2, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.918M, :gtfs/stop-fuzzy-lon 21.625M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 3, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.909M, :gtfs/stop-fuzzy-lon 21.636M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 4, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.904M, :gtfs/stop-fuzzy-lon 21.643M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 6, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.890M, :gtfs/stop-fuzzy-lon 21.662M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 8, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.878M, :gtfs/stop-fuzzy-lon 21.682M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 10, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.879M, :gtfs/stop-fuzzy-lon 21.688M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 10, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.880M, :gtfs/stop-fuzzy-lon 21.692M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 15, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.878M, :gtfs/stop-fuzzy-lon 21.687M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 15, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.875M, :gtfs/stop-fuzzy-lon 21.692M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 16, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.873M, :gtfs/stop-fuzzy-lon 21.703M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 17, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.869M, :gtfs/stop-fuzzy-lon 21.720M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 18, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.864M, :gtfs/stop-fuzzy-lon 21.733M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 19, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.857M, :gtfs/stop-fuzzy-lon 21.746M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 19, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.851M, :gtfs/stop-fuzzy-lon 21.758M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 20, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.850M, :gtfs/stop-fuzzy-lon 21.763M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 20, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.847M, :gtfs/stop-fuzzy-lon 21.775M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 21, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.842M, :gtfs/stop-fuzzy-lon 21.791M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 21, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.832M, :gtfs/stop-fuzzy-lon 21.813M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 23, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.822M, :gtfs/stop-fuzzy-lon 21.831M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 24, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.812M, :gtfs/stop-fuzzy-lon 21.841M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 25, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.799M, :gtfs/stop-fuzzy-lon 21.856M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 27, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.792M, :gtfs/stop-fuzzy-lon 21.868M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 28, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.787M, :gtfs/stop-fuzzy-lon 21.878M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 29, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.777M, :gtfs/stop-fuzzy-lon 21.888M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 30, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.757M, :gtfs/stop-fuzzy-lon 21.904M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 32, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.742M, :gtfs/stop-fuzzy-lon 21.920M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 34, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.738M, :gtfs/stop-fuzzy-lon 21.927M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 35, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.733M, :gtfs/stop-fuzzy-lon 21.940M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 36, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.716M, :gtfs/stop-fuzzy-lon 21.961M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 39, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.709M, :gtfs/stop-fuzzy-lon 21.966M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 40, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.703M, :gtfs/stop-fuzzy-lon 21.971M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 40, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.695M, :gtfs/stop-fuzzy-lon 21.978M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 41, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.690M, :gtfs/stop-fuzzy-lon 21.983M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 42, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.684M, :gtfs/stop-fuzzy-lon 21.990M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 43, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.681M, :gtfs/stop-fuzzy-lon 21.988M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 45, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.678M, :gtfs/stop-fuzzy-lon 21.992M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 45, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.676M, :gtfs/stop-fuzzy-lon 21.995M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 45, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.674M, :gtfs/stop-fuzzy-lon 21.999M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 46, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.674M, :gtfs/stop-fuzzy-lon 22.003M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 46, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.674M, :gtfs/stop-fuzzy-lon 22.009M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 47, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.669M, :gtfs/stop-fuzzy-lon 22.020M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 47, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.659M, :gtfs/stop-fuzzy-lon 22.035M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 48, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.641M, :gtfs/stop-fuzzy-lon 22.049M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 50, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.621M, :gtfs/stop-fuzzy-lon 22.058M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 52, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.594M, :gtfs/stop-fuzzy-lon 22.077M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 55, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.570M, :gtfs/stop-fuzzy-lon 22.101M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 8, :minutes 58, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.542M, :gtfs/stop-fuzzy-lon 22.124M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 9, :minutes 0, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.505M, :gtfs/stop-fuzzy-lon 22.156M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 9, :minutes 5, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.485M, :gtfs/stop-fuzzy-lon 22.172M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 9, :minutes 10, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.484M, :gtfs/stop-fuzzy-lon 22.175M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 9, :minutes 10, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.480M, :gtfs/stop-fuzzy-lon 22.189M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 9, :minutes 11, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.478M, :gtfs/stop-fuzzy-lon 22.197M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 9, :minutes 11, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.474M, :gtfs/stop-fuzzy-lon 22.206M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 9, :minutes 12, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.472M, :gtfs/stop-fuzzy-lon 22.216M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 9, :minutes 13, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.471M, :gtfs/stop-fuzzy-lon 22.231M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 9, :minutes 14, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.469M, :gtfs/stop-fuzzy-lon 22.237M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 9, :minutes 15, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.466M, :gtfs/stop-fuzzy-lon 22.249M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 9, :minutes 16, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.463M, :gtfs/stop-fuzzy-lon 22.262M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 9, :minutes 18, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.461M, :gtfs/stop-fuzzy-lon 22.265M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 9, :minutes 19, :seconds 0.0}} {:gtfs/stop-fuzzy-lat 60.456M, :gtfs/stop-fuzzy-lon 22.267M, :gtfs/departure-time #ote.time.Interval{:years 0, :months 0, :days 0, :hours 9, :minutes 20, :seconds 0.0}}]
                   })

;;two time change 1->1.1 and 4->4.1
(deftest trip-stop-differences-simple-departure-time-change-test
  (let [left left-trips-1
        right right-trips-1
        result (transit-changes/trip-stop-differences left right)]
    (testing "Only two time changes"
      (is (= result {:stop-seq-changes 0 :stop-time-changes 2})))))

;; Testing time difference when two stops are getting same fuzzed gpx point because they are so close to each other.
;; Previously the set "#{}" type of compare could not find any differences between stops that ended up getting
;; same fuzzed gpx point. Now it should be possible and this test should find one time difference between these
;; stop lists
(deftest trip-stop-differences-two-same-fuzzy-gpx-test
  (let [left-trip left-trips-2
        right-trip right-trips-2
        diff-result (transit-changes/trip-stop-differences left-trip right-trip)]
    (testing
      (is (= diff-result {:stop-seq-changes 0 :stop-time-changes 1})))))


;; Ensure that stop-sequence changes (gpx location changes) works as planned.
;; This newer implementation assumes that location change (sequence changes) will be
;; shown also in time change so to eliminate duplicate changes we remove the sequence change occurences from the
;; time change list before attempting to analyse them.
(deftest trip-stop-differences-multiple-same-fussed-gpx-points
  (let [left-trip left-trips-3
        right-trip right-trips-3
        result (transit-changes/trip-stop-differences left-trip right-trip)
        result-other-way-around (transit-changes/trip-stop-differences right-trip left-trip)]
    (testing
      (is (= result {:stop-seq-changes 3 :stop-time-changes 2}))
      (is (= result-other-way-around {:stop-seq-changes 3 :stop-time-changes 2})))))

;; Stop lists in this test are from reald world.
;; The set #{} type of implementation found four location changes and one time change between these
;; stop lists even there should be zero time changes and five location changes (Five new stops in the right trip).
;; This happens because there is stops with same fussed gpx point and the old implementation
;; which was made using set (#{}) could not handle it.
(deftest trip-stop-differences-two-same-fuzzy-gpx-test-2
  (let [left-trip left-trips-4
        right-trip right-trips-4
        result (transit-changes/trip-stop-differences left-trip right-trip)]
    (testing
      (is (= result {:stop-seq-changes 5 :stop-time-changes 0})))))

;; Testing basic changes
(deftest stop-differences-basic-test
  (let [left-trip left-trips-5
        right-trip right-trips-5
        result (transit-changes/trip-stop-differences left-trip right-trip)]
    (testing
      (is (= result {:stop-seq-changes 4 :stop-time-changes 1})))))

;; Testing basic changes
(deftest stop-differences-basic-real-world-test
  (let [left-trip left-trip-6
        right-trip right-trip-6
        result (transit-changes/trip-stop-differences left-trip right-trip)]
    (testing
      (is (= result {:stop-seq-changes 9 :stop-time-changes 0})))))